<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>luw2007-blog <em>DEV<em></title>
    <meta name="description" content="">
    <meta name="author" content="luw2007">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="../theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="..">luw2007-blog <em>DEV<em></a>

        <div class="nav-collapse">
        <ul class="nav">
                    
                            <li><a href="../pages/About.html">About me</a></li>
                        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
                

        


    <div class='article'>
        <div class="content-title">
            <a href="../cgroup-lxc.html"><h1>认识cgroup和 lxc</h1></a>
            01-09-2013

by <a class="url fn" href="../author/luw2007.html">luw2007</a>
 


 
        </div>
        
        <div><h3>引子</h3>
<p>[CPyUG] 对于python的sandbox,有什么好的方案吗？
由python的沙箱引出虚拟化中的两个名词lxc和cgroup。</p>
<h2>cgroup(control groups)</h2>
<ul>
<li><a href="http://en.wikipedia.org/wiki/cgroup">cgroup</a>, wikipedia 中的定义</li>
<li><a href="http://www.kernel.org/doc/Documentation/cgroups/">http://www.kernel.org/doc/Documentation/cgroups/</a>, cgroups 官方文档</li>
<li><a href="http://www.cnblogs.com/lisperl/tag/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/">http://www.cnblogs.com/lisperl/tag/虚拟化技术</a>, 这里对官方文档做了翻译</li>
</ul>
<h2>Lxc(LinuX Containers)</h2>
<ul>
<li><a href="http://en.wikipedia.org/wiki/Lxc">lxc</a>, wikipedia 中的定义</li>
<li><a href="http://wiki.archlinux.org/index.php/Linux_Containers">Linux Containers - ArchWiki</a></li>
<li><a href="https://help.ubuntu.com/community/LXC">LXC - Community Ubuntu Documentation</a>, See also</li>
<li><a href="http://lxc.teegra.net/">How to LXC - this is one of the best documents available</a>, 比较详细的lxc 的介绍手册</li>
<li><a href="wiki.gentoo.org/wiki/LXC">LXC - Gentoo Wiki</a></li>
<li><a href="http://wiki.debian.org/LXC">LXC - Debian Wiki</a></li>
<li><a href="http://en.opensuse.org/LXC">LXC - openSUSE</a></li>
<li><a href="https://www.stgraber.org/category/lxc/">https://www.stgraber.org/category/lxc/</a>, ubutnu的软件工程 Stéphane Grabers的blog。</li>
<li><a href="https://www.stgraber.org/2012/05/04/lxc-in-ubuntu-12-04-lts/">lxc-in-ubuntu-12-04-lts</a>, Stéphane Grabers lxc tutorial</li>
<li><a href="http://www.ibm.com/developerworks/linux/library/l-lxc-containers/">LXC: Linux container tools</a>, IBM linux 技术中心软件工程师的一篇介绍</li>
<li><a href="http://www.ibm.com/developerworks/linux/library/l-lxc-security/index.html">Secure Linux containers cookbook</a>, 和上篇是姐妹篇, 通过 LSM(<a href="http://en.wikipedia.org/wiki/Linux_Security_Modules">Linux Security Modules</a>), SELinux(<a href="http://en.wikipedia.org/wiki/SELinux">Security-Enhanced Linux</a>), Smack()</li>
<li><a href="http://www.janoszen.com/2012/06/04/lxc-linux-containers-on-steroids/">LXC – Linux Containers on Steroids</a>, lxc 简单使用心得</li>
<li>
<p><a href="http://www.cnblogs.com/lisperl/archive/2012/06/15/2551067.html">LXC（Linux Containers）的不足和改进</a>, 提出以下观点</p>
<p>缺少对磁盘配额（disk quota）的支持
缺少对写时复制（copy on write）的支持
进程和容器之间的动态关联还不够完善
不支持checkpoint</p>
</li>
</ul>
<p>由于与OpenVZ同为OS级别的虚拟化技术,免不了对比两者之前的差异。</p>
<h2>OpenVZ vs LXC</h2>
<ul>
<li><a href="http://lwn.net/Articles/507997/">Future of OpenVZ?</a></li>
<li><a href="https://ask.fedoraproject.org/question/929/openvz-vz-lxc">openvz-vz-lxc</a>, lxc 再次被吐嘈不支持checkpoint。</li>
<li><a href="http://www.thomas-krenn.com/de/wikiDE/images/3/35/20110511-Lightweight-virtualization-LXC-vs-OpenVZ.pdf">Lightweight-virtualization-LXC-vs-OpenVZ.pdf</a>, 德文写的。</li>
</ul>
<p>通过上面的文章可以看到目前lxc 还不适合是用在生产环境。Lxc 依赖的cgroup 早已加入linux kernel mainline中。我比较认同Lxc 最终会替代 OpenVZ。</p>
<h2>see also</h2>
<ul>
<li><a href="http://ubuntuforums.org/showthread.php?t=1382823">http://ubuntuforums.org/showthread.php?t=1382823</a>, Lucid and OpenVZ and/or LXC ?</li>
<li><a href="http://manpages.ubuntu.com/manpages/karmic/man5/lxc.conf.5.html">http://manpages.ubuntu.com/manpages/karmic/man5/lxc.conf.5.html</a>, lxc.conf 配置帮助</li>
<li><a href="https://access.redhat.com/knowledge/docs/zh-CN/Red_Hat_Enterprise_Linux/6/html/Resource_Management_Guide/">https://access.redhat.com/knowledge/docs/zh-CN/Red_Hat_Enterprise_Linux/6/html/Resource_Management_Guide/</a>, 'RHEL6的资源管理指南'。 其中主要介绍cgrous, 由于是针对rhel 系统的。对于非red hat用户建议主要看看概念和机制。</li>
<li><a href="http://agiletesting.blogspot.com/2011/08/anybody-using-lxc-or-openvz-in.html">http://agiletesting.blogspot.com/2011/08/anybody-using-lxc-or-openvz-in.html</a>, twitter 上lxc 杂谈</li>
</ul></div>
        <hr />
    </div>
		
            <div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="../tag/linux-containers.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>    
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="../archives.html">Archives</a>
                <li><a href="../tags.html">Tags</a>
                <li><a href="http://luw2007.github.com/" rel="alternate">Atom feed</a></li>
                                <li><a href="http://luw2007.github.com/feeds/all.rss.xml" rel="alternate">RSS feed</a></li>
                            </ul>
            </div>


                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                                <li><a href="../category/dev.html">Dev</a></li>
                                <li><a href="../category/blog.html">blog</a></li>
                                <li><a href="../category/linux.html">linux</a></li>
                                   
            </ul>
            </div>
            

                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                            <li><a href="http://python.org">python</a></li>
                            <li><a href="http://douban.com">douban.com</a></li>
                            <li><a href="http://42qu.com">42qu.com</a></li>
                        </ul>
            </div>
            

            
        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="..">luw2007-blog <em>DEV<em></a> &copy; luw2007 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>